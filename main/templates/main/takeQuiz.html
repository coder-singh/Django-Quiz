{% extends 'main/base.html' %}
{% load main_filters %}
{% load staticfiles %}

{% block title %}
Attempt Quiz
{% endblock %}

{% block content %}
<h2>{{quiz.name}} by {{quiz.tutor.first_name}}</h2>
passing: {{quiz.pass_marks}}, max: {{quiz.max_marks}}, time: {{quiz.time}} minutes


<div style="margin-top: 50px;">
<form method="post">
    {% csrf_token %}
    <div class="card">
        <div class="card-body">
            <div class="card-title">Question: {{q.q_text}}</div>
            <div class="card-text">
    {% if q.q_image != '' %}
        <img src="/media/{{q.q_image}}" width=5%>
    {% endif %}
    {% if q.q_video != None %}
    <iframe width="300" height="200" src="{{q.q_video}}" frameborder="0" allowfullscreen></iframe>
    </iframe>
    {% endif %}
    {% if q.q_audio != '' %}
    <audio controls>
        <source src="/media/{{q_audio}}" type="audio/mpeg">
        Your browser does not support the audio element.
    </audio>
    {% endif %}
    {% if q.q_type == 1 %}
    <input type="radio" name="answer1" value="1">True&nbsp;&nbsp;
    <input type="radio" name="answer1" value="0">False
    {% endif %}<br>
    
    {% if q.q_type == 2 %}
        A){{q.a_text}}
        {% if q.a_image != '' %}
            <img src="/media/{{q.a_image}}" width=5%>
        {% endif %}
        {% if q.a_video != None %}
        <iframe width="300" height="200" src="{{q.a_video}}" frameborder="0" allowfullscreen></iframe>
        </iframe>
        {% endif %}
        {% if q.a_audio != '' %}
        <audio controls>
            <source src="/media/{{a_audio}}" type="audio/mpeg">
            Your browser does not support the audio element.
        </audio>
        {% endif %}<br>

        B){{q.b_text}}
        {% if q.b_image != '' %}
            <img src="/media/{{q.b_image}}" width=5%>
        {% endif %}
        {% if q.b_video != None %}
        <iframe width="300" height="200" src="{{q.b_video}}" frameborder="0" allowfullscreen></iframe>
        </iframe>
        {% endif %}
        {% if q.b_audio != '' %}
        <audio controls>
            <source src="/media/{{b_audio}}" type="audio/mpeg">
            Your browser does not support the audio element.
        </audio>
        {% endif %}<br>

        C){{q.c_text}}
        {% if q.c_image != '' %}
            <img src="/media/{{q.c_image}}" width=5%>
        {% endif %}
        {% if q.c_video != None %}
        <iframe width="300" height="200" src="{{q.c_video}}" frameborder="0" allowfullscreen></iframe>
        </iframe>
        {% endif %}
        {% if q.c_audio != '' %}
        <audio controls>
            <source src="/media/{{c_audio}}" type="audio/mpeg">
            Your browser does not support the audio element.
        </audio>
        {% endif %}<br>

        D){{q.d_text}}
        {% if q.d_image != '' %}
            <img src="/media/{{q.d_image}}" width=5%>
        {% endif %}
        {% if q.d_video != None %}
        <iframe width="300" height="200" src="{{q.d_video}}" frameborder="0" allowfullscreen></iframe>
        </iframe>
        {% endif %}
        {% if q.d_audio != '' %}
        <audio controls>
            <source src="/media/{{d_audio}}" type="audio/mpeg">
            Your browser does not support the audio element.
        </audio>
        {% endif %}<br>
        Answer -> 
        <input type="radio" name="answer2" value="1">A&nbsp;&nbsp;
        <input type="radio" name="answer2" value="2">B&nbsp;&nbsp;
        <input type="radio" name="answer2" value="3">C&nbsp;&nbsp;
        <input type="radio" name="answer2" value="4">D
    {% endif %}
    
    {% if q.q_type == 3 %}
    A){{q.a_text}}
    {% if q.a_image != '' %}
        <img src="/media/{{q.a_image}}" width=5%>
    {% endif %}
    {% if q.a_video != None %}
    <iframe width="300" height="200" src="{{q.a_video}}" frameborder="0" allowfullscreen></iframe>
    </iframe>
    {% endif %}
    {% if q.a_audio != '' %}
    <audio controls>
        <source src="/media/{{a_audio}}" type="audio/mpeg">
        Your browser does not support the audio element.
    </audio>
    {% endif %}<br>

    B){{q.b_text}}
    {% if q.b_image != '' %}
        <img src="/media/{{q.b_image}}" width=5%>
    {% endif %}
    {% if q.b_video != None %}
    <iframe width="300" height="200" src="{{q.b_video}}" frameborder="0" allowfullscreen></iframe>
    </iframe>
    {% endif %}
    {% if q.b_audio != '' %}
    <audio controls>
        <source src="/media/{{b_audio}}" type="audio/mpeg">
        Your browser does not support the audio element.
    </audio>
    {% endif %}<br>

    C){{q.c_text}}
    {% if q.c_image != '' %}
        <img src="/media/{{q.c_image}}" width=5%>
    {% endif %}
    {% if q.c_video != None %}
    <iframe width="300" height="200" src="{{q.c_video}}" frameborder="0" allowfullscreen></iframe>
    </iframe>
    {% endif %}
    {% if q.c_audio != '' %}
    <audio controls>
        <source src="/media/{{c_audio}}" type="audio/mpeg">
        Your browser does not support the audio element.
    </audio>
    {% endif %}<br>

    D){{q.d_text}}
    {% if q.d_image != '' %}
        <img src="/media/{{q.d_image}}" width=5%>
    {% endif %}
    {% if q.d_video != None %}
    <iframe width="300" height="200" src="{{q.d_video}}" frameborder="0" allowfullscreen></iframe>
    </iframe>
    {% endif %}
    {% if q.d_audio != '' %}
    <audio controls>
        <source src="/media/{{d_audio}}" type="audio/mpeg">
        Your browser does not support the audio element.
    </audio>
    {% endif %}<br>
    Answer -> 
    <input type="checkbox" name="answer3" value="1">A&nbsp;&nbsp;
    <input type="checkbox" name="answer3" value="2">B&nbsp;&nbsp;
    <input type="checkbox" name="answer3" value="3">C&nbsp;&nbsp;
    <input type="checkbox" name="answer3" value="4">D
    {% endif %}
    
    {% if q.q_type == 4 %}<br>
    A){{q.a_text}}
    {% if q.a_image != '' %}
        <img src="/media/{{q.a_image}}" width=5%>
    {% endif %}
    {% if q.a_video != None %}
    <iframe width="300" height="200" src="{{q.a_video}}" frameborder="0" allowfullscreen></iframe>
    </iframe>
    {% endif %}
    {% if q.a_audio != '' %}
    <audio controls>
        <source src="/media/{{a_audio}}" type="audio/mpeg">
        Your browser does not support the audio element.
    </audio>
    {% endif %}<br>

    B){{q.b_text}}
    {% if q.b_image != '' %}
        <img src="/media/{{q.b_image}}" width=5%>
    {% endif %}
    {% if q.b_video != None %}
    <iframe width="300" height="200" src="{{q.b_video}}" frameborder="0" allowfullscreen></iframe>
    </iframe>
    {% endif %}
    {% if q.b_audio != '' %}
    <audio controls>
        <source src="/media/{{b_audio}}" type="audio/mpeg">
        Your browser does not support the audio element.
    </audio>
    {% endif %}<br>

    C){{q.c_text}}
    {% if q.c_image != '' %}
        <img src="/media/{{q.c_image}}" width=5%>
    {% endif %}
    {% if q.c_video != None %}
    <iframe width="300" height="200" src="{{q.c_video}}" frameborder="0" allowfullscreen></iframe>
    </iframe>
    {% endif %}
    {% if q.c_audio != '' %}
    <audio controls>
        <source src="/media/{{c_audio}}" type="audio/mpeg">
        Your browser does not support the audio element.
    </audio>
    {% endif %}<br>

    D){{q.d_text}}
    {% if q.d_image != '' %}
        <img src="/media/{{q.d_image}}" width=5%>
    {% endif %}
    {% if q.d_video != None %}
    <iframe width="300" height="200" src="{{q.d_video}}" frameborder="0" allowfullscreen></iframe>
    </iframe>
    {% endif %}
    {% if q.d_audio != '' %}
    <audio controls>
        <source src="/media/{{d_audio}}" type="audio/mpeg">
        Your browser does not support the audio element.
    </audio>
    {% endif %}<br>
    Answer -> 
    <input type="text" name="answerA" placeholder="'a' or 'b' or 'c' or 'd'">->
    <input type="text" name="answerB" placeholder="'a' or 'b' or 'c' or 'd'">->
    <input type="text" name="answerC" placeholder="'a' or 'b' or 'c' or 'd'">->
    <input type="text" name="answerD" placeholder="'a' or 'b' or 'c' or 'd'">
    {% endif %}
    
    {% if q.q_type == 5 %}
        matching
    {% endif %}

    <input type="hidden" name="question_id" value="{{q.id}}">
    <input type="hidden" name="quiz_id" value="{{quiz.id}}">
    <input type="hidden" name="question_no" value="{{question_no}}">
    <input type="hidden" name="question_type" value="{{q.q_type}}">
<br>
{% if last_question is True %}
    <input type="submit" value="Finish Quiz">
{% else %}
    <input type="submit" value="Next Question">
{% endif %}</div>
</div>
</div>
</form>
</div>
{% endblock %}